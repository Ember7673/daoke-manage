(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7474ae83"],{4271:function(e,t,r){},"84fa":function(e,t,r){"use strict";var n=r("4271"),a=r.n(n);a.a},e0bc:function(e,t,r){"use strict";r("d3b7");var n=r("bc3a"),a=r.n(n),s=r("5c96"),u={baseURL:"/api/",timeout:5e3,withCredentials:!1,responseType:"json",xsrfHeaderName:"X-XSRF-TOKEN",xsrfCookieName:"XSRF-TOKEN",maxContentLength:2e3},c=a.a.create(u),i={};c.interceptors.request.use((function(e){return i=s["Loading"].service({fullscreen:!0}),e}),(function(e){return i.close(),s["Message"].error({message:"加载超时"}),Promise.reject(e)})),c.interceptors.response.use((function(e){return i.close(),e}),(function(e){return i.close(),e&&e.response?e.message="连接错误".concat(e.response.status):e.message="网络出现问题，请稍后再试",s["Message"].error({message:e.message}),Promise.reject(e)})),t["a"]=c},f2f4:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"memberTitle"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/member"}}},[e._v("成员管理")])],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList}},[r("el-table-column",{attrs:{prop:"create_time",label:"申请时间",width:"165"}}),r("el-table-column",{attrs:{prop:"name",label:"姓名",width:"80"}}),r("el-table-column",{attrs:{prop:"area",label:"大区",width:"50"}}),r("el-table-column",{attrs:{prop:"phone_num",label:"手机号"}}),r("el-table-column",{attrs:{prop:"password",label:"登录密码"}}),r("el-table-column",{attrs:{prop:"card",label:"名片"}}),r("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{staticClass:"status"},[e._v(e._s(e.handleActions(t.row)))]),1!==t.row.status?r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.handleUpdate(t.$index,t.row)}}},[e._v("审核")]):e._e(),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)},a=[],s=(r("96cf"),r("1da1")),u=r("e0bc"),c=function(e){var t="get-user-list";return u["a"].post(t,e)},i=function(e){var t="update-user-status";return u["a"].post(t,e)},o=function(e){var t="delete-user";return u["a"].post(t,e)},l=r("ed08"),p={data:function(){return{userList:[],options:[{value:0,label:"待审核"},{value:1,label:"通过"},{value:2,label:"拒绝"}]}},created:function(){this._getUserList()},methods:{_getUserList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={reqid:Object(l["c"])(),pageindex:1,pagesize:2e3},t.next=3,c(r).then((function(t){0===t.data.status?e.userList=t.data.data.users:e.$message.error(t.data.message)}));case 3:case"end":return t.stop()}}),t)})))()},handleActions:function(e){return e.status?1===e.status?"通过":2===e.status?"拒绝":void 0:"待审核"},handleUpdate:function(e,t){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.$confirm("是否通过审批?","提示",{confirmButtonText:"通过",cancelButtonText:"拒绝",type:"warning"}).then((function(){r._updateUser(t,1)})).catch((function(){r._updateUser(t,2)}));case 1:case"end":return e.stop()}}),e)})))()},_updateUser:function(e,t){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={reqid:Object(l["c"])(),phone_num:e.phone_num,status:t},n.next=3,i(a).then((function(e){0===e.data.status?(r.$message({type:"success",message:"更新成功!"}),r._getUserList()):r.$message.error(e.data.message)}));case 3:case"end":return n.stop()}}),n)})))()},handleDelete:function(e,t){var r=this;this.$confirm("是否删除?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={reqid:Object(l["c"])(),id:t.id},e.next=3,o(n).then((function(e){0===e.data.status?(r.$message({type:"success",message:"删除成功!"}),r._getUserList()):r.$message.error(e.data.message)}));case 3:case"end":return e.stop()}}),e)})))).catch((function(){return!1}))}}},d=p,m=(r("84fa"),r("2877")),f=Object(m["a"])(d,n,a,!1,null,"487a3b06",null);t["default"]=f.exports}}]);